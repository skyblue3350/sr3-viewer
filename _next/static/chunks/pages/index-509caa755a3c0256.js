(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3107)}])},3107:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return f}});var l=n(5893),t=n(9008),i=n.n(t),r=n(7294),o=n(8800),a=n(5712),d=n(3623),c=n(6295),u=n(5927);let h=["","シェケナダム","アラマキ砦","","","","難破船ドン・ブラコ","ムニ・エール海洋発電所"],p=["バクダン","カタパッド","テッパン","ヘビ","タワー","モグラ","コウモリ","ハシラ","ダイバー","テッキュウ","ナベブタ","キンシャケ","ドロシャケ","グリル",""];function f(){let[e,s]=(0,r.useState)({}),n=e=>{let n=e.target.files;n&&Array.from(n).map(e=>{if("application/json"!==e.type)return;let n=new FileReader;n.onload=()=>{if("string"!=typeof n.result)return;let e=JSON.parse(n.result),l=e.reduce((e,s)=>{let n=h[s.schedule.stage_id],l=(0,o.d)("2000-12-27 09:00"),t="YYYY年MM月DD日hh:mm",i=l.add(s.schedule.start_time,"seconds"),r=l.add(s.schedule.end_time,"seconds"),a="".concat(n," (").concat(i.format(t),"-").concat(r.format(t),")"),d=e[a];return d.result.push({playTime:s.play_time,grade:s.players[0].grade,grade_point:s.players[0].grade_point}),d.bossCounts=d.bossCounts.map((e,n)=>e+s.boss_counts[n]),d.bossKillCounts=d.bossKillCounts.map((e,n)=>e+s.players[0].boss_kill_counts[n]),e[a]=d,e},new Proxy({},{get:(e,s)=>s in e?e[s]:{bossKillCounts:Array(15).fill(0),bossCounts:Array(15).fill(0),result:[]}}));s(l)},n.readAsText(e)})},t=Object.keys(e).reduce((s,n)=>{let l=e[n];return console.log(l,s),s.bossCounts=l.bossCounts.map((e,n)=>e+s.bossCounts[n]),s.bossKillCounts=l.bossKillCounts.map((e,n)=>e+s.bossKillCounts[n]),s},{bossKillCounts:Array(15).fill(0),bossCounts:Array(15).fill(0)});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i(),{children:[(0,l.jsx)("title",{children:"SR3 Viewer"}),(0,l.jsx)("meta",{name:"description",content:"Splatoon3 のサーモンランのデータ可視化サイト"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)("main",{children:(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(d.Z,{as:"h1",dividing:!0,children:"データ読み込み"}),(0,l.jsx)("input",{type:"file",onChange:n}),(0,l.jsx)(d.Z,{as:"h1",dividing:!0,children:"リザルト"}),(0,l.jsx)(c.Z,{placeholder:"バイトスケジュール",fluid:!0,selection:!0,search:!0,options:Object.keys(e).map(e=>({text:e,value:e,key:e}))}),(0,l.jsxs)(u.Z,{striped:!0,children:[(0,l.jsx)(u.Z.Header,{children:(0,l.jsxs)(u.Z.Row,{children:[(0,l.jsx)(u.Z.HeaderCell,{children:"種別"}),(0,l.jsx)(u.Z.HeaderCell,{children:"撃破数"}),(0,l.jsx)(u.Z.HeaderCell,{children:"出現数"})]})}),(0,l.jsx)(u.Z.Body,{children:p.map((e,s)=>{if(0!==t.bossCounts[s])return(0,l.jsxs)(u.Z.Row,{children:[(0,l.jsx)(u.Z.Cell,{children:e}),(0,l.jsx)(u.Z.Cell,{children:t.bossKillCounts[s]}),(0,l.jsx)(u.Z.Cell,{children:t.bossCounts[s]})]},e)})})]})]})})]})}}},function(e){e.O(0,[752,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);